@{
    ViewData["Title"] = "Trang chủ";
    var role = Context.Session.GetString("UserRole");
}
@model List<Asm_GD_1.Models.Food>
<style>
    body {
        background-color: #fffaf4;
        font-family: 'Segoe UI', sans-serif;
    }

    /* Slideshow */
    .carousel-item img {
        height: 450px;
        object-fit: cover;
        border-radius: 20px;
    }

    .carousel-caption {
        background: rgba(0, 0, 0, 0.4);
        padding: 15px;
        border-radius: 10px;
    }

    /* Card món ăn */
    .food-img {
        height: 300px;
        object-fit: cover;
        width: 100%;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .card {
        border-radius: 15px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.5s ease;
        box-shadow: rgba(50, 50, 93, 0.15) 0px 13px 27px -5px, rgba(0, 0, 0, 0.1) 0px 8px 16px -8px;
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

    .card-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: #333;
    }

    .price-tag {
        color: #e74c3c;
        font-weight: bold;
        font-size: 1.2rem;
    }

    .btn-warning {
        background-color: #f1c40f;
        border: none;
    }

        .btn-warning:hover {
            background-color: #ffb700;
        }

    /* Phần section */
    .food-section {
        background: #fff;
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 8px 20px rgba(0,0,0,0.05);
        margin-bottom: 3rem;
    }

    .section-title {
        font-size: 2rem;
        font-weight: bold;
        color: #f1c40f;
        margin-bottom: 1.5rem;
    }
</style>

<!-- Slideshow -->
<div id="foodCarousel" class="carousel slide container mt-4 mb-5 p-5" data-bs-ride="carousel">
    <div class="carousel-inner rounded-4 shadow">
        <div class="carousel-item active">
            <img src="https://mcdelivery.vn/vn//static/1745843925716/assets/84/banners/landing_75141_WOS.jpg" class="d-block w-100" alt="Món ăn 1">
            <div class="carousel-caption">
                <h5>Burger Ngon tuyệt</h5>
                <p>Thưởng thức vị ngon trọn vẹn</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://mcdelivery.vn/vn//static/1745843925716/assets/84/banners/landing_75265_ngàygà_WOS.jpg" class="d-block w-100" alt="Món ăn 2">
            <div class="carousel-caption">
                <h5>Combo Siêu Tiết Kiệm</h5>
                <p>Giá hấp dẫn – ngon bất ngờ</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://mcdelivery.vn/vn//static/1745843925716/assets/84/banners/landing_75437_WOS.jpg" class="d-block w-100" alt="Món ăn 3">
            <div class="carousel-caption">
                <h5>Mỳ ý sốt bò hầm phô mai thịt xông khói</h5>
                <p>Tươi ngon như ý</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://mcdelivery.vn/vn//static/1745843925716/assets/84/banners/landing_75344_wos.jpg" class="d-block w-100" alt="Món ăn 2">
            <div class="carousel-caption">
                <h5>Gà rắc DaeBak</h5>
                <p>Ăn là dính</p>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#foodCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#foodCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>

<!-- Đồ ăn -->
<div class="container">
    <div class="food-section">
        <h2 class="text-center section-title">Đồ ăn</h2>
        <div class="row text-center">
            @foreach (var food in Model)
 {
     <div class="col-md-3 mb-4">
         <div class="card h-100 small-card">
             <img src="@Url.Content(food.ImageUrl)" class="card-img-top" alt="@food.Name" style="height:220px; object-fit:cover;" />
             <div class="card-body d-flex flex-column">
                 <h5 class="card-title description-2-lines" style="font-size:20px;">@food.Name</h5>
                 <p class="card-text description-2-lines">@food.Description</p>
                 <p class="fw-bold text-danger" style="font-size:18px;">
                     Giá: @food.Price.ToString("N0") ₫
                 </p>

                 <div class="mt-auto">
                     @if (!string.IsNullOrEmpty(role) && role == "User")
                     {
                         <a asp-action="ThemGioHang"
                            asp-route-id="@food.FoodId"
                            class="btn btn-warning text-light btn-sm">
                             Thêm giỏ hàng
                         </a>
                     }
                     else if (role == "Admin")
                     {
                         <button class="btn btn-secondary btn-sm" disabled>Thêm giỏ hàng</button>
                     }
                     else
                     {
                         <a asp-action="Login" asp-controller="Account" class="btn btn-secondary btn-sm">
                             Đăng nhập để mua
                         </a>
                     }
                 </div>
             </div>
         </div>
     </div>
 }
            <!-- Thêm món khác -->
        </div>
    </div>
</div>

<!-- Combo -->
<div class="container mb-5">
    <div class="food-section">
        <h2 class="text-center section-title">Combo</h2>
        <div class="row text-center">
            @foreach (var combo in (List<Asm_GD_1.Models.Combo>)ViewBag.Combos)
            {
                <div class="col-md-3 mb-4">
                    <div class="card h-100 small-card">
                        <img src="@Url.Content(combo.ImageUrl)" class="card-img-top" alt="@combo.Name" style="height:220px; object-fit:cover;" />
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title description-2-lines" style="font-size:20px;">@combo.Name</h5>
                            <p class="card-text description-2-lines">@combo.Description</p>
                            <p class="fw-bold text-danger" style="font-size:18px;">
                                Giá: @combo.Price.ToString("N0") ₫
                            </p>

                            <div class="mt-auto">
                                @if (!string.IsNullOrEmpty(role) && role == "User")
                                {
                                    <a asp-action="ThemGioHang"
                                       asp-route-id="@combo.ComboId"
                                       asp-route-type="combo"
                                       class="btn btn-warning text-light btn-sm">
                                        Thêm giỏ hàng
                                    </a>
                                }
                                else if (role == "Admin")
                                {
                                    <button class="btn btn-secondary btn-sm" disabled>Thêm giỏ hàng</button>
                                }
                                else
                                {
                                    <a asp-action="Login" class="btn btn-secondary btn-sm">
                                        Đăng nhập để mua
                                    </a>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>